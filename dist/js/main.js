const popup=document.getElementsByClassName("popup__wrapper")[0],open_btn=document.getElementsByClassName("cta-button")[0],close_btn=document.getElementsByClassName("close")[0];open_btn.addEventListener("click",(function(e){e.preventDefault(),popup.classList.remove("hidden")})),close_btn.addEventListener("click",(function(e){e.preventDefault(),popup.classList.add("hidden")}));const form=document.querySelector("form"),statusTxt=form.querySelector(".message");form.onsubmit=e=>{console.log("SUBMIT"),e.preventDefault(),statusTxt.style.color="#0D6EFD",statusTxt.style.display="block",statusTxt.innerText="Сообщение отправляется...",form.classList.add("disabled");let t=new XMLHttpRequest;t.open("POST","send.php",!0),t.onload=()=>{if(4==t.readyState&&200==t.status){let e=t.response;-1!=e.indexOf("Заполните все поля")||-1!=e.indexOf("Введите корректный email")||-1!=e.indexOf("Что-то пошло не так. Обратитесь к админу.")?statusTxt.style.color="red":(form.reset(),setTimeout((()=>{statusTxt.style.display="none"}),3e3)),statusTxt.innerText=e,form.classList.remove("disabled")}};let s=new FormData(form);t.send(s)};const input=document.querySelector("#phone"),prefixNumber=e=>"7"===e?"7 (":"8"===e?"8 (":"9"===e?"7 (9":"7 (";input.addEventListener("input",(e=>{const t=input.value.replace(/\D+/g,"");let s;s=input.value.includes("+8")||"8"===input.value[0]?"":"+";for(let e=0;e<t.length&&e<11;e++){switch(e){case 0:s+="7"===(n=t[e])?"7 (":"8"===n?"8 (":"9"===n?"7 (9":"7 (";continue;case 4:s+=") ";break;case 7:case 9:s+="-"}s+=t[e]}var n;input.value=s}));
//# sourceMappingURL=main.js.map